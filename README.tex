% Intended LaTeX compiler: pdflatex
\documentclass[french]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[french]{babel}
\input{config-listings}
\author{Fabrice Niessen}
\date{\today}
\title{Literate programming avec Org mode}
\hypersetup{
 pdfauthor={Fabrice Niessen},
 pdftitle={Literate programming avec Org mode},
 pdfkeywords={gutenberg, emacs, org-mode, latex, booster},
 pdfsubject={Fichier de démo pour la conférence GUTenberg 2021},
 pdfcreator={Emacs 27.1 (Org mode 9.3)}, 
 pdflang={French}}
\begin{document}

\maketitle
Pour information, ce document Org est disponible sur
\url{https://github.com/fniessen/gutenberg}.

\textbf{Org mode} est une « fonctionnalité » d'Emacs offrant (entre autres) une syntaxe
\emph{plain text} facile à utiliser pour exporter des documents en \LaTeX{}, en HTML, en
documents LibreOffice -- et encore plein d'autres choses !

\part{{\color{red}\textbf{\textsc{\textsf{TODO}}}} Tasks}
\label{sec:org5ba00a8}

\begin{itemize}
\item Buffer local var for size
\item Program pour afficher les touches tapées
\item Export ODT
\end{itemize}

\part{Exécution de code}
\label{sec:org713d485}

Voici un bout de code Python (\texttt{plus-2-fois-2}) qui ajoute 2, puis multiplie par 2;
d'où son nom :

\lstset{language=Python,label=org75d32d6,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
resultat = x + 2
resultat = resultat * 2
return resultat
\end{lstlisting}

\begin{verbatim}
30
\end{verbatim}


Voici bout de code Emacs Lisp (\texttt{fois-3}) qui multiplie par 3, et dont seul le
résultat m'intéresse :

\begin{verbatim}
90
\end{verbatim}


Ensuite, voici un bout de code en \LaTeX{} qui génère différents résultats, pour
quelques valeurs possibles de la variable \texttt{x} passées à \texttt{plus-2-fois-2} :

\lstset{language=[LaTeX]TeX,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
\begin{itemize}
\item 24
\item 44
\item 64
\end{itemize}
\end{lstlisting}

\begin{itemize}
\item 24
\item 44
\item 64
\end{itemize}

Et, finalement, un graphique produit en langage R.

\lstset{language=r,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
plot(1:10, (1:10)^2)
\end{lstlisting}

\part{Introduction}
\label{sec:org23aae3b}

Excogitatum est super his, ut homines quidam ignoti, vilitate ipsa parum cavendi
ad colligendos rumores per Antiochiae latera cuncta destinarentur relaturi quae
audirent. hi peragranter et dissimulanter honoratorum circulis adsistendo
pervadendoque divites domus egentium habitu quicquid noscere poterant vel audire
latenter intromissi per posticas in regiam nuntiabant, id observantes
conspiratione concordi, ut fingerent quaedam et cognita duplicarent in peius,
laudes vero supprimerent Caesaris, quas invitis conpluribus formido malorum
inpendentium exprimebat.

\part{Équipements et tests}
\label{sec:org5aa9652}

Post haec indumentum regale quaerebatur et ministris fucandae purpurae tortis
confessisque pectoralem tuniculam sine manicis textam, Maras nomine quidam
inductus est ut appellant Christiani diaconus.

\chapter{Équipements utilisés}
\label{sec:org1a3b1a1}

Superatis Tauri montis verticibus qui ad solis ortum sublimius attolluntur,
Cilicia spatiis porrigitur late distentis dives bonis omnibus terra, eiusque
lateri dextro adnexa Isauria, pari sorte uberi palmite viget et frugibus
minutis, quam mediam navigabile flumen Calycadnus interscindit :

\begin{itemize}
\item ibi victu recreati et quiete,
\item postquam abierat timor,
\item vicos opulentos adorti equestrium adventu cohortium,
\item quae casu propinquabant.
\end{itemize}

\chapter{Conditions de tests}
\label{sec:orgc7ff74a}

Itaque tum Scaevola cum in eam ipsam mentionem incidisset, exposuit nobis
sermonem Laeli de amicitia habitum ab illo secum et cum altero genero, C. Fannio
Marci filio, paucis diebus post mortem Africani :

\begin{enumerate}
\item inter quos Paulus eminebat notarius ortus in Hispania,
\item glabro quidam sub vultu latens,
\item odorandi vias periculorum occultas perquam sagax.
\end{enumerate}

\part{Résultats et discussion}
\label{sec:org7b8655f}

Hae duae provinciae bello quondam piratico catervis mixtae praedonum a Servilio
pro consule missae sub iugum factae sunt vectigales.

\begin{table}[!htbp]
\label{tab:org8ae8817}
\centering
\begin{tabular}{lr}
Jour & Frais\\
\hline
Lundi & 8\\
Mardi & 5\\
Mercredi & 2\\
Jeudi & 2\\
Vendredi & 3\\
Samedi & 1\\
Dimanche & 0\\
\hline
Total & 21\\
\end{tabular}
\end{table}

Quid?

\chapter{Résultats}
\label{sec:orgab57561}

Coactique aliquotiens nostri pedites ad eos persequendos scandere clivos
sublimes etiam si lapsantibus plantis fruticeta prensando vel dumos ad vertices
venerint summos.

\chapter{Discussion}
\label{sec:orga21736c}

Sed tamen haec cum ita tutius observentur, quidam vigore artuum inminuto rogati
ad nuptias ubi aurum dextris manibus cavatis offertur, inpigre vel usque
Spoletium pergunt.

\part{Conclusions}
\label{sec:org67bf2c9}

Inter haec Orfitus praefecti potestate regebat urbem aeternam ultra modum
delatae dignitatis sese efferens insolenter, vir quidem prudens et forensium
negotiorum oppido gnarus, sed splendore liberalium doctrinarum minus quam
nobilem decuerat institutus, quo administrante seditiones sunt concitatae graves
ob inopiam vini:

\begin{center}
\begin{tabular}{lrl}
\emph{Sous-total} & 21.00 & \texteuro{}\\
\hline
\emph{Taxe @ 20\%} & 4.41 & \texteuro{}\\
\hline
\textbf{Montant total} & \textbf{\large 25.41} & \textbf{\texteuro{}}\\
\end{tabular}
\end{center}

Huius avidis usibus vulgus intentum ad motus asperos excitatur et crebros.

\part{Annexes}
\label{sec:orgb50fa3a}

\chapter{Code Emacs Lisp}
\label{sec:org4da598a}

Code utilisé pour améliorer le rendu de la démonstration :

\lstset{language=Lisp,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
(set-frame-font "Consolas-13" nil t)
\end{lstlisting}

\lstset{language=Lisp,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
(setq org-latex-default-packages-alist
      '(("AUTO" "inputenc" t
         ("pdflatex"))
        ("T1" "fontenc" t
         ("pdflatex"))
        ("" "graphicx" t)
        ("" "xcolor")
        ("" "babel")
        ("" "listings")
        ("" "hyperref" nil)))

(setq org-latex-packages-alist nil)
\end{lstlisting}

\lstset{language=Lisp,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
(setq org-latex-text-markup-alist '((bold . "\\textbf{%s}")
                                    (code . "\\lstinline|%s|")
                                    (italic . "\\emph{%s}")
                                    (strike-through . "\\sout{%s}")
                                    (underline . "\\uline{%s}")
                                    (verbatim . "\\verb|%s|")))

(setq org-latex-classes

      '(("article" "\\documentclass[11pt]{article}"
         ("\\section{%s}" . "\\section*{%s}")
         ("\\subsection{%s}" . "\\subsection*{%s}")
         ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
         ("\\paragraph{%s}" . "\\paragraph*{%s}")
         ("\\subparagraph{%s}" . "\\subparagraph*{%s}"))

        ("report" "\\documentclass[11pt]{report}"
         ("\\chapter{%s}" . "\\chapter*{%s}")
         ("\\section{%s}" . "\\section*{%s}")
         ("\\subsection{%s}" . "\\subsection*{%s}")
         ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
         ("\\paragraph{%s}" . "\\paragraph*{%s}"))

        ("book" "\\documentclass[11pt]{book}"
         ("\\chapter{%s}" . "\\chapter*{%s}")
         ("\\section{%s}" . "\\section*{%s}")
         ("\\subsection{%s}" . "\\subsection*{%s}")
         ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
         ("\\paragraph{%s}" . "\\paragraph*{%s}"))))
\end{lstlisting}

\chapter{Plus d'informations}
\label{sec:org84aa693}

\begin{itemize}
\item Fichier d'exemple de la syntaxe Org mode :
\url{https://github.com/fniessen/org-html-themes/tests/org-mode-syntax-example.org}

\item Ma configuration Emacs :
\url{https://github.com/fniessen/emacs-leuven}

\item « Reference card » Org Babel :
\url{https://github.com/fniessen/refcard-org-babel}
\end{itemize}

\part{Suis-moi !}
\label{sec:org40a4c9a}

\begin{itemize}
\item Rejoins le groupe Facebook \\
et la communauté des « \textbf{Boosters Emacs} » ici : \\
\url{https://www.facebook.com/groups/286810496172489}

\item Abonne-toi à la chaîne Youtube « \textbf{Booster Emacs} » \\
\url{https://www.youtube.com/channel/UChSzlv1RJWFbb7XkV7OREtA?sub\_confirmation=1} \\
et active les notifications en cliquant sur la petite cloche pour ne rien
rater !
\end{itemize}
\end{document}
